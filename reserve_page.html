<!DOCTYPE html>
<html>
<body>

<p> Select items you wish to check out:<p>
<form action="demo_form.asp" method="get">
  <input type="checkbox" name="equipment" value="Hololens"> Hololens<br>
  <input type="checkbox" name="equipment" value="Oculus"> Oculus Drift DK 2<br>
  <input type="checkbox" name="equipment" value="printer"> 3D printer<br>
  <input type="checkbox" name="equipment" value="Kinect"> Kinect for Xbox one <br>
  <input type="checkbox" name="equipment" value="controllers"> Kinect for Xbox one <br>
 <input type="checkbox" name="equipment" value="Crazyfile"> Kinect for Xbox one <br>
 <input type="checkbox" name="equipment" value="Leap"> Leap Motion Controller <br>
 <input type="checkbox" name="equipment" value="watch"> Motorolla Moto 360 Smart Watch <br>
   <input type="checkbox" name="equipment" value="raspberry"> Raspberry Pi 2 <br>
 <input type="checkbox" name="equipment" value="gopro"> GoPro Hero4 Silver <br>
 <br><h2>
 <button type="button" onclick="alert ('Click Reserve')">Check Availability </button>
 <button type="button" onclick="window.location.href='checkout_page_with_js.html'">Next </button>    </h2>
</form>

  
  <!-- This is the script that handles uploaded files-->
  <h2>Upload Item List Here</br></h2>
  <input type="file" id="fileInput" /><!-- lets the user input a file  (aka choose file upload button)")-->
  <script type="text/javascript">
  //readSingleFile reads a single file and prints what it read to an alert
  function readFromFile(evt) {

document.write("RAINBOW UNICORNS LOVE MONKEYS!!!");
  
     var fileObject = evt.target.files[0]; //file object is f; first file is at [0]
  
    
 
    if (fileObject) {//if a file was uploaded
 


 
var r = new FileReader();//create fileReader object
r.onload = function(e) {//when the file is loaded, run this function
      var fileContents = e.target.result;//load the contents of file into object
   
   var commaNumber=1;
   var outputNameString ="";
for (i=0;i<fileContents.length;i++){
if (fileContents.charAt(i)==','){
outputNameString +=" ";
if (commaNumber==1)//commanumber 1 means comma after name; 2 is after amount
commaNumber=2;

}else if (fileContents.charAt(i)=='\n'){
commaNumber =1;
outputNameString+="\n";//adds enter key
}else {//not a comma or \n
if (commaNumber==1)
outputNameString+=fileContents.charAt(i);//adds character to string
}
}


alert("Items from uploaded file are:\n\n"+outputNameString);
        //document.getElementById("p1").innerHTML = fileContents;
var i =0;
var indexEnter =fileContents.IndexOf("\n");
var indexComma =fileContents.IndexOf(",");
itemNames[i]= fileContents.slice(indexComma-1);
i++;


while(i<3){//3 for testing, normally go through all items
indexComma = (fileContents.substring(indexEnter)).IndexOf(",");
indexEnter = (fileContents.substring(indexComma)).IndexOf(",");
var tempString =fileContents.substring(indexEnter+1,indexComma-1);
itemNames[i]=tempString;
var tempId = "box"+i;
document.getElementById(tempId).innerHTML = tempString;
i++;
}

      }
      r.readAsText(fileObject);



    } else {//if a file was not uploaded
      alert("No File was uploaded");
    }
  }
  document.getElementById('fileInput').addEventListener('change', readFromFile, false);

</script>
  
</body>
</html>

